<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- saved from url=(0037)http://www.spacewire.co.uk/video.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<title>Digital Video Pipeline Intellectual Property (VHDL)</title>
<link href="./Digital Video Pipeline Intellectual Property (VHDL)_files/spacewire.css" rel="stylesheet" type="text/css">

<meta name="description" content="Digital Video Pipeline Modules (Intellectual Property) written entirely in VHDL (RTL) and targeted at Xilinx FPGA&#39;s.">
<meta name="keywords" content="digital, video, bt656, pipeline, vhdl, rtl, fpga, asic, source, code, intellectual, property, colour, bars, overlay, xilinx">
<meta name="author" content="Steve Haywood (SpaceWire UK)">
<meta name="robots" content="all">
<style type="text/css"></style></head>

<body>

<div id="page_whole">
<div id="page_body">

<div class="title_main">
<div style="float:left;width:40px;height:25px"><img src="./Digital Video Pipeline Intellectual Property (VHDL)_files/title.jpg" alt="Bar" height="25" width="35"></div>
<div style="float:left;width:210px;height:25px;color:#000000;font-size:20px">SpaceWire UK</div>
<div style="float:left;width:570px;height:20px;padding-top:5px;font-weight:lighter;font-size:12px;text-align:center">Specialist providers of VHDL Intellectual Property &amp; Design Services</div>
<div style="float:right;width:140px;height:25px;text-align:right"><img src="./Digital Video Pipeline Intellectual Property (VHDL)_files/title.jpg" alt="Bar" height="25" width="35"><img src="./Digital Video Pipeline Intellectual Property (VHDL)_files/title.jpg" alt="Bar" height="25" width="35"><img src="./Digital Video Pipeline Intellectual Property (VHDL)_files/title.jpg" alt="Bar" height="25" width="35"><img src="./Digital Video Pipeline Intellectual Property (VHDL)_files/title.jpg" alt="Bar" height="25" width="35"></div>
</div>

<div id="nav_left1">
<ul class="menu_ul">
  <li class="menu_li"><a href="http://www.spacewire.co.uk/index.html">Home</a></li>
  <li class="menu_li"><a href="http://www.spacewire.co.uk/about.html">About Us</a></li>
  <li class="menu_li"><a href="http://www.spacewire.co.uk/video.html#">Intellectual Property</a>
    <ul class="menu_ul">
      <li class="menu_li"><a href="http://www.spacewire.co.uk/auto_fifo.html">Autonomous FIFO</a></li>
      <li class="menu_li"><a href="http://www.spacewire.co.uk/raptor16.html">Raptor-16 Micro</a></li>
      <li class="menu_li"><a href="http://www.spacewire.co.uk/spacewire_codec.html">SpaceWire CODEC</a></li>
      <li class="menu_li"><a href="http://www.spacewire.co.uk/spacewire.html">SpaceWire Switch</a></li>
      <li class="menu_li"><a href="./Digital Video Pipeline Intellectual Property (VHDL)_files/Digital Video Pipeline Intellectual Property (VHDL).html">Video Pipeline</a></li>
    </ul>
  </li>
  <li class="menu_li"><a href="http://www.spacewire.co.uk/contact.php">Contact</a></li>
  <li class="menu_li"><a href="http://www.spacewire.co.uk/ind.html">Index</a></li>
</ul>
</div>


<div class="title_main">Digital Video Pipeline</div>
<div class="section_main">

The Digital Video Pipeline provides a very modular way of connecting together any number of video circuits. Its unique pipelined structure also provides an inherent way of overlaying video.

<br><br>

The basic building block (pipe-section) of a pipeline is shown below.

<br><br>

<table border="0" width="100%">
<tbody>
<tr>
<td align="center"><img src="./Digital Video Pipeline Intellectual Property (VHDL)_files/v1.gif" alt="" width="341" height="218"></td>
<td>
<ul>
<li><b>Clk</b> - 27MHz video clock</li>
<li><b>Rst</b> - Synchronous Reset</li>
<li><b>En</b> - Enable Function</li>
<li><b>Video</b> - 8-bit Digital Video Stream</li>
<li><b>TOF</b> - Top of Frame (pulsed at the start of each frame)</li>
<li><b>Line</b> - 10-bit Line Number (PAL = 0-575, NTSC = 0-479)</li>
<li><b>Sample</b> - 11-bit Line Position (PAL &amp; NTSC = 0-1439)</li>
<li><b>FVH</b> - 3-bit Information Vector
<ul>
<li><b>F</b> - Field (Field 1 = '0', Field 2 = '1')</li>
<li><b>V</b> - Vertical Blanking (Not Blanking = '0', Blanking = '1')</li>
<li><b>H</b> - Horizontal Blanking (Not Blanking = '0', Blanking = '1')</li>
</ul>
</li>
</ul>
</td>
</tr>
</tbody>
</table>

<br>

The "digital video" that this page refers to is Standard Definition BT656 YCbCr (4:2:2). A brief introduction to this
standard is available <a href="http://www.spacewire.co.uk/video_standard.html">here</a> if required.

<br><br>

Listed below are some real world examples of the Digital Video Pipeline in action.

<br><br><br><br>

</div>


<div class="title_main">Example 1 - Blank Screen Generator</div>
<div class="section_main">

This example shows how a single stage pipeline can be used to create a blue screen.

<br><br>

<table border="0" width="100%">
<tbody align="center">
<tr>
<td><img src="./Digital Video Pipeline Intellectual Property (VHDL)_files/vtv1.gif" alt="" width="128" height="128"></td>
<td><img src="./Digital Video Pipeline Intellectual Property (VHDL)_files/v2.gif" alt="" width="259" height="218"></td>
</tr>
</tbody>
</table>

<br><br><br>

</div>


<div class="title_main">Example 2 - Colour Bar/Block Generator</div>
<div class="section_main">

This example shows how a three stage pipeline can be used to create a colour bar or colour block test pattern.

<br><br>

<table border="0" width="100%">
<tbody align="center">
<tr>
<td>

<table border="0">
<tbody>
<tr>
<td><img src="./Digital Video Pipeline Intellectual Property (VHDL)_files/vtv2.gif" alt="" width="128" height="128"></td>
</tr>
<tr>
<td><img src="./Digital Video Pipeline Intellectual Property (VHDL)_files/vtv3.gif" alt="" width="128" height="128"></td>
</tr>
</tbody>
</table>

</td>
<td><img src="./Digital Video Pipeline Intellectual Property (VHDL)_files/v3.gif" alt="" width="617" height="218"></td>
</tr>
</tbody>
</table>

<br>

By controlling the Pipe-Section Enables three possible video outputs can be generated:-

<ul>
<li>A single colour blank screen</li>
<li>A colour bar test pattern</li>
<li>A colour block test pattern</li>
</ul>

<br><br><br>

</div>


<div class="title_main">Example 3 - Moving Object Overlay</div>
<div class="section_main">

This example shows how a four stage pipeline can be used to overlay two separate objects.

<br><br>

<table border="0" width="100%">
<tbody align="center">
<tr>
<td>
<table border="0">
<tbody>
<tr>
<td><img src="./Digital Video Pipeline Intellectual Property (VHDL)_files/vtv4.gif" alt="" width="128" height="128"></td>
</tr>
<tr>
<td><img src="./Digital Video Pipeline Intellectual Property (VHDL)_files/vtv5.gif" alt="" width="128" height="128"></td>
</tr>
</tbody>
</table>
</td>
<td><img src="./Digital Video Pipeline Intellectual Property (VHDL)_files/v4.gif" alt="" width="795" height="218"></td>
</tr>
</tbody>
</table>

<br>

By controlling the Pipe-Section Enables six possible video outputs can be generated:-

<ul>
<li>A single colour blank screen</li>
<li>A colour bar test pattern</li>
<li>A blank screen with one moving rectangle</li>
<li>A colour bar screen with one moving rectangle</li>
<li>A blank screen with two moving rectangles</li>
<li>A colour bar screen with two moving rectangles</li>
</ul>

<br><br><br>

</div>


<div class="title_main">Example 4 - Live Video Overlay</div>
<div class="section_main">

By replacing the Blank Screen module in the above examples with the Video Lock module live video overlay can easily be achieved. This example shows how the Video Lock module is used.

<br><br>

<table border="0" width="100%">
<tbody align="center">
<tr>
<td width="100%" align="center"><img src="./Digital Video Pipeline Intellectual Property (VHDL)_files/v5.gif" alt="" width="719" height="218"></td>
</tr>
</tbody>
</table>

<br><br><br>

</div>


<div class="title_main">Design Source</div>
<div class="section_main">

Details of the design source used in the above examples is given below:-


<ul>
<li><b>blank_screen_top.vhd</b> - Top level wrapper for Example 1.</li>
</ul><ul>
<li><b>colour_bars_top.vhd</b> - Top level wrapper for Example 2.</li>
</ul><ul>
<li><b>bouncy_rectangle_top.vhd</b> - Top level wrapper for Example 3.</li>
</ul><ul>
<li><b>blank_screen.vhd</b> - Build and output a full frame of digital video that is floodfilled with one colour.</li>
</ul><ul>
<li><b>colour_bars.vhd</b> - Overlay a colour bar test  pattern on the incoming video stream and output the result.</li>
</ul><ul>
<li><b>colour_blocks.vhd</b> - Overlay a colour block test pattern on the incoming video stream and output the result.</li>
</ul><ul>
<li><b>bouncy_rectangle.vhd</b> - Overlay a moving rectangle on the incoming video stream and output the result.</li>
</ul>

The design source and top level modules for all the above examples can be found in the following zip:-

<ul>
<li><a href="http://www.spacewire.co.uk/video.zip">video.zip</a></li>
</ul>

Although the VHDL source code (intellectual property) is targeted towards a Xilinx FPGA its low-level RTL implementation ensures an optimal result for any ASIC or FPGA architecture.

<br><br>

</div>



<div class="footer_main">
<div class="footer_left">
Copyright © 2004-2013 SpaceWire UK. All rights reserved.
</div>
<div class="footer_right">
BitCoin: <a href="bitcoin:1HqJiexed6DmazHMo8z962ZZU2bYDoCrD">1HqJiexed6DmazHMo8z962ZZU2bYDoCrD</a>
</div>
</div>





</div>
</div>



</body></html>